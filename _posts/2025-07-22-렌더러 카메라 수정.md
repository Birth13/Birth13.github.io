---
title: 렌더러 카메라 수정
date: 2025-07-22 15:00:00 +09:00
categories: [BEngine]
tags: [C++, Winapi]
---

---
# 렌더러의 카메라를 수정해보자.
&nbsp;사각형 렌더러를 처음 만들었을 때,<br>
뷰 변환 행렬과 투영 변환 행렬을 가져올 카메라의 이름을<br>
'm_main_camera'로 고정하였다.<br>
<br>&nbsp;이를 따로 설정할 수 있게 수정을 할 것이다.

<br><br><br>&nbsp;먼저 렌더러 클래스에 카메라 이름을 저장할 수 있도록<br>
변수를 추가해주었다.

```cpp
class Renderer {
protected:
	std::wstring m_window_name;
	std::wstring m_camera_name;
}
```

&nbsp;또한 렌더러를 생성할 때 카메라 이름도 인자로 넣도록 하였고,<br>
나중에 카메라를 설정할 수 있도록 카메라 설정 함수도 추가해주었다.

```cpp
class Renderer {
public:
	Renderer(std::wstring window_name, std::wstring camera_name)
		: m_window_name(window_name), m_camera_name(camera_name) {}



	// 카메라 관련 함수

	// 카메라를 설정
	virtual void Set_Camera(std::wstring camera_name) {
		m_camera_name = camera_name;
	}
};
```

<br><br><br>&nbsp;마지막으로 사각형 렌더러에서 하드코딩된 이름이 아니라<br>
설정된 카메라 이름을 사용할 수 있도록 수정하였다.<br>
<br>&nbsp;아래는 수정하기 전 코드이다.

```cpp
		// 변환 행렬을 계산해서
		DirectX::XMMATRIX transformation_matrix =
			object.Get_World_Matrix_M() *
			ObjectManager::Get_Instance().Get_Camera(L"main_camera").Get_View_Matrix_M() *
			ObjectManager::Get_Instance().Get_Camera(L"main_camera").Get_Projection_Matrix_M();
```

&nbsp;아래는 수정 후 코드이다.

```cpp
		// 변환 행렬을 계산해서
		DirectX::XMMATRIX transformation_matrix =
			object.Get_World_Matrix_M() *
			ObjectManager::Get_Instance().Get_Camera(m_camera_name).Get_View_Matrix_M() *
			ObjectManager::Get_Instance().Get_Camera(m_camera_name).Get_Projection_Matrix_M();
```
