---
title: 플레인 매쉬 추가
date: 2025-07-24 16:00:00 +09:00
categories: [BEngine]
tags: [C++, Winapi]
---

---
# 플레인 매쉬을를추가해보자.
&nbsp;평면 매쉬가 필요할 것 같아서<br>
플레인 매쉬를 생성할 수 있도록 추가하였다.<br>
<br>&nbsp;코드는 볼 게 딱히 없는게<br>
사실 이전에 육면체를 만드는 함수에서 싹 긁어왔다.<br>
<br>%nbsp;그래도 한번 보자.

```cpp
Mesh_Info* MeshManager::Create_Plane_Mesh(float width_x, float width_y,
	std::wstring mesh_name, std::wstring material_name
) {
	// 머터리얼 인덱스 얻어오기
	UINT material_index = MaterialManager::Get_Instance().Get_Material_Index(material_name);

	// 없는 머터리얼이면 기본 머터리얼(인덱스 0) 사용
	if (material_index == ~0U) {	// ~0U == UINT_MAX
		material_index = 0U;
	}

	// 사용된 머터리얼 인덱스
	std::vector<UINT> used_material_indices;
	used_material_indices.emplace_back(material_index);

	// 너비의 절반 계산
	float half_x = width_x / 2.0f;
	float half_y = width_y / 2.0f;

	// 정점 배열
	std::vector<Vertex_Info> vertices = {
		// 앞면 (-z)
		{ { -half_x, -half_y, 0.0f }, { 0.0f, 0.0f, -1.0f }, { +1.0f, 0.0f, 0.0f, +1.0f }, { 0.0f, 1.0f }, material_index },
		{ { -half_x, +half_y, 0.0f }, { 0.0f, 0.0f, -1.0f }, { +1.0f, 0.0f, 0.0f, +1.0f }, { 0.0f, 0.0f }, material_index },
		{ { +half_x, +half_y, 0.0f }, { 0.0f, 0.0f, -1.0f }, { +1.0f, 0.0f, 0.0f, +1.0f }, { 1.0f, 0.0f }, material_index },
		{ { +half_x, -half_y, 0.0f }, { 0.0f, 0.0f, -1.0f }, { +1.0f, 0.0f, 0.0f, +1.0f }, { 1.0f, 1.0f }, material_index }
	};

	// 인덱스 배열
	std::vector<std::uint32_t> indices_32 = {
		// 앞면
		0, 1, 2,
		0, 2, 3
	};

	// 매쉬 생성
	return Create_Mesh(mesh_name, vertices, indices_32, used_material_indices);
}
```

&nbsp;육면체 생성 코드에서 앞면만 똑 떼왔다.

<br><br><br>&nbsp;아래는 플레인 매쉬 출력 결과이다.

![main_window - FPS _ 60 2025-07-25 16-47-18](https://github.com/user-attachments/assets/a6c09ad2-d6f9-4610-8fd2-0ae01871510d)
