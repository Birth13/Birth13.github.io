---
title: 직교 투영 추가
date: 2025-07-23 19:00:00 +09:00
categories: [BEngine]
tags: [C++, Winapi]
---

---
# 직교 투영을 추가해보자.
&nbsp;카메라를 추가할 때에 원근 투영 변환 행렬을 만들도록 하였는데,<br>
여기에 추가적으로 직교 투영을 할 수 있도록 만들어보자.

<br><br><br>&nbsp;코드는 정말 간단하다.<br>
&nbsp;어차피 원근 투영 때와 마찬가지로<br>
DirectXMath에 있는 함수를 사용할 것이다.

<br><br><br>&nbsp;일단 카메라에 추가된 함수이다.

```cpp
	// 직교 투영으로 설정
	void Set_Orthographic(float width, float height, float near_z, float far_z);
	// 원근 투영으로 설정
	void Set_Perspective(float field_of_view_y, float aspect_ratio, float near_z, float far_z);
```

&nbsp;사실 Set_Perpective() 함수는 이전에 있던 Set_Frustum() 함수와 내용이 동일하다.<br>
&nbsp;그래서 Set_Frustum() 함수는 삭제되었다.<br>
<br>&nbsp;그럼 Set_Orthographic() 함수를 살펴보자.

```cpp
void Camera::Set_Orthographic(float width, float height, float near_z, float far_z) {
	m_near_z = near_z;
	m_far_z = far_z;

	DirectX::XMStoreFloat4x4(&m_projection_matrix,
		DirectX::XMMatrixOrthographicLH(width, height, m_near_z, m_far_z));
}
```

&nbsp;참으로 별거 없는 코드이다.<br>
<br>&nbsp;인자로 넘어온 값에 맞게 XMMatrixOrthographicLH() 함수를 사용하여<br>
투영 변환 행렬을 새로 계산해주는 것이 다이다.<br>
<br>&nbsp;너비와 높이 값도 따로 저장을 해두는 것이 좋을까 했는데,<br>
일단 따로 저장을 하지는 않았다.<br>
&nbsp;나중에 필요하게 되면 하지 뭐.

<br><br><br>&nbsp;아래는 직교 투영으로 변경한 결과이다.

![main_window - FPS _ 60 2025-07-23 19-59-48](https://github.com/user-attachments/assets/12a9e424-96ef-4cd3-bf3f-1731754edd73)
